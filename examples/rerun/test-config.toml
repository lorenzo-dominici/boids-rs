# =============================================================================
# Test Configuration - Basic 3-Flock Simulation
# =============================================================================
# A simple configuration with three flock types demonstrating predator-prey
# relationships: Hawks (predators), Pigeons (mid-level), and Bugs (prey).
# =============================================================================

iters = 1000

# =============================================================================
# Mesh Environment Configuration
# =============================================================================
[environment]
path = "examples/rerun/assets/room.obj"  # Mesh file path
inverted = true                          # Boids stay inside the mesh
scale = 1.0                              # No scaling applied

# APF Repulsion parameters
repulsion_strength = 1.5                 # Force strength
falloff_exponent = 2.0                   # Distance falloff
weight_exponent = 2.0                    # Triangle weighting
size_margin = 0.5                        # Safety margin

# =============================================================================
# Flock 1: Hawks (Apex Predators)
# =============================================================================
[[flocks]]
flock.name = "Alpha"
flock.kind.kind = "Hawk"
flock.kind.size = 3.0
flock.kind.color = [255, 0, 0]
flock.kind.preys = ["Pigeon", "Hawk"]
flock.kind.predators = ["Hawk"]
flock.kind.speed.min = 1.0
flock.kind.speed.max = 2.0
flock.kind.angular_speed.min = 0.0
flock.kind.angular_speed.max = 0.025
flock.kind.acceleration.min = -0.1
flock.kind.acceleration.max = 0.1
flock.kind.momentum = 0.75
flock.kind.vision.min = 0.0
flock.kind.vision.max = 60.0
flock.kind.protected.min = 0.0
flock.kind.protected.max = 30.0
flock.kind.sep_weight = 0.05
flock.kind.align_weight = 0.05
flock.kind.coh_weight = 0.05
boids = 300
state.min = 0.75
state.max = 1.0
biases = []

[[flocks.spawns]]
position = [0.0, 0.0, 0.0]
radius = 40.0

# =============================================================================
# Flock 2: Pigeons (Mid-level - prey to Hawks, predator to Bugs)
# =============================================================================
[[flocks]]
flock.name = "Beta"
flock.kind.kind = "Pigeon"
flock.kind.size = 2.0
flock.kind.color = [0, 255, 0]
flock.kind.preys = ["Bug"]
flock.kind.predators = ["Hawk"]
flock.kind.speed.min = 1.0
flock.kind.speed.max = 2.5
flock.kind.angular_speed.min = 0.0
flock.kind.angular_speed.max = 0.05
flock.kind.acceleration.min = -0.2
flock.kind.acceleration.max = 0.2
flock.kind.momentum = 0.5
flock.kind.vision.min = 0.0
flock.kind.vision.max = 40.0
flock.kind.protected.min = 0.0
flock.kind.protected.max = 20.0
flock.kind.sep_weight = 0.05
flock.kind.align_weight = 0.05
flock.kind.coh_weight = 0.05
boids = 500
state.min = 0.5
state.max = 1.0
biases = []

[[flocks.spawns]]
position = [0.0, 0.0, 0.0]
radius = 40.0

# =============================================================================
# Flock 3: Bugs (Prey - hunted by Pigeons)
# =============================================================================
[[flocks]]
flock.name = "Gamma"
flock.kind.kind = "Bug"
flock.kind.size = 1.0
flock.kind.color = [0, 0, 255]
flock.kind.preys = []
flock.kind.predators = ["Pigeon"]
flock.kind.speed.min = 1.0
flock.kind.speed.max = 3.0
flock.kind.angular_speed.min = 0.0
flock.kind.angular_speed.max = 0.075
flock.kind.acceleration.min = -0.2
flock.kind.acceleration.max = 0.2
flock.kind.momentum = 0.25
flock.kind.vision.min = 0.0
flock.kind.vision.max = 20.0
flock.kind.protected.min = 0.0
flock.kind.protected.max = 10.0
flock.kind.sep_weight = 0.05
flock.kind.align_weight = 0.05
flock.kind.coh_weight = 0.05
boids = 1200
state.min = 0.25
state.max = 1.0

[[flocks.spawns]]
position = [0.0, 0.0, 0.0]
radius = 40.0

[[flocks.biases]]
position = [0.0, 0.0, 0.0]
weight_range = { min = 0.00025, max = 0.0005 }
prob = 0.25

[[flocks.biases]]
position = [0.0, 0.0, 0.0]
weight_range = { min = -0.0005, max = -0.00025 }
prob = 0.25